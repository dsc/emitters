!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.emitters=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(t){var n=e[o][1][t];return i(n?n:t)},f,f.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){function r(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}n.VERSION="0.2.0",r(n,e("./lib/emitter")),r(n,e("./lib/chained-emitter")),r(n,e("./lib/ready-emitter")),r(n,e("./lib/waiting-emitter"))},{"./lib/chained-emitter":2,"./lib/emitter":4,"./lib/ready-emitter":5,"./lib/waiting-emitter":6}],2:[function(e,t,n){function u(e,t){function n(){}return n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,typeof t.extended=="function"&&t.extended(e),e}var r,i,s=typeof n!="undefined"&&n||this,o=[].slice;r=e("./emitter").EventEmitter,s.ChainedEmitter=i=function(e){function i(e){e&&this.parentEmitter(e)}i.displayName="ChainedEmitter";var t=u(i,e).prototype,n=i;return i.__emitter_methods__=r.__emitter_methods__.concat(["parentEmitter"]),t.parentEmitter=function(e){return e==null?this._parentEmitter:(this._parentEmitter=e,this)},t.trigger=function(e){var t,n,r,i,s,u,a,f,l;t=o.call(arguments,1),n=!0;if(r=(this._events||{})[e])for(i=0,s=r.length;i<s;++i)u=r[i],n=u.apply(this,t)!==!1&&n;return n&&typeof ((a=this._parentEmitter)!=null?a.trigger:void 8)=="function"&&(f=(l=this._parentEmitter).trigger.apply(l,arguments)||!!r),f},t.emit=i.prototype.trigger,i}(r)},{"./emitter":4}],3:[function(e,t,n){var r,i,s,o,u=typeof n!="undefined"&&n||this;r=/\s+/,u.eventsApi=i=function(e,t,n,i){var s,o,u,a,f,l;if(!n)return!0;if(typeof n=="object"){for(s in n)o=n[s],e[t].apply(e,[s,o].concat(i));return!1}if(r.test(n)){for(u=0,f=(a=n.split(r)).length;u<f;++u)l=a[u],e[t].apply(e,[l].concat(i));return!1}return!0},u.triggerEvents=s=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v;n=t[0],r=t[1],i=t[2];switch(t.length){case 0:for(s=0,o=e.length;s<o;++s)u=e[s],u.callback.call(u.ctx);return;case 1:for(a=0,f=e.length;a<f;++a)u=e[a],u.callback.call(u.ctx,n);return;case 2:for(l=0,c=e.length;l<c;++l)u=e[l],u.callback.call(u.ctx,n,r);return;case 3:for(h=0,p=e.length;h<p;++h)u=e[h],u.callback.call(u.ctx,n,r,i);return;default:for(d=0,v=e.length;d<v;++d)u=e[d],u.callback.apply(u.ctx,t)}},u.once=o=function(e){var t,n;return function(){return t?result:(t=!0,n=e.apply(this,arguments),e=null,result)}}},{}],4:[function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v;r=e("./emitter-helpers"),i=r.eventsApi,s=r.triggerEvents,o=r.once;try{u=e("events").EventEmitter,u.displayName||(u.displayName="EventEmitter"),(a=u.prototype).trigger||(a.trigger=u.prototype.emit),(f=u.prototype).off||(f.off=u.prototype.removeListener)}catch(m){l=m,c=Object.prototype,h=c.toString,p=c.hasOwnProperty,d=Array.isArray||function(e){return h.call(e)==="[object Array]"},v=Object.keys||function(e){var t,n=[];for(t in e)p.call(e,t)&&n.push(t);return n},u=function(){function n(){}n.displayName="EventEmitter";var e=n.prototype,t=n;return e.trigger=function(e){var t,n;return this._events?(t=[].slice.call(arguments,1),i(this,"trigger",e,t)?((n=this._events[e])&&s(n,t),(n=this._events.all)&&s(n,arguments),this):this):this},e.emit=n.prototype.trigger,e.on=function(e,t,n){var r,s;return!i(this,"on",e,[t,n])||!t?this:(r={fn:t,context:n,ctx:n||this},s=this._events||(this._events={}),s[e]?(s[e]=queue.slice()).push(r):s[e]=[r],this)},e.addListener=n.prototype.on,e.once=function(e,t,n){var r,s;return!i(this,"once",e,[t,n])||!t?this:(r=this,s=o(function(){return r.off(e,s),t.apply(this,arguments)}),s._callback=t,this.on(e,n,s))},e.off=function(e,t,n){var r,s,o,u,a,f,l,c;if(!this._events||!i(this,"off",e,[t,n]))return this;if(!(e||n||t))return this._events={},this;r=e?[e]:v(this._events);for(s=0,o=r.length;s<o;++s){e=r[s];if(!(u=this._events[e]))continue;if(!t&&!n){delete this._events[e];continue}a=this._events[e]=[];for(f=0,l=u.length;f<l;++f)c=u[f],(t&&t!==c.fn&&t!==c.fn._callback||n&&n!==c.context)&&a.push(c);a.length||delete this._events[e]}return this},e.removeListener=n.prototype.off,e.removeAllListeners=n.prototype.off,n}()}u.__emitter_methods__=["trigger","emit","on","addListener","once","off","removeListener","removeAllListeners"],u.delegate=function(e,t,n){var r,i,s,o,u;if(!t||!e)return e;n==null&&(n=this.constructor.__emitter_methods__),r=this.prototype;for(i=0,s=n.length;i<s;++i)o=n[i],u=t[o]||r[o],typeof u=="function"&&(e[o]=u.bind(t));return e},u.decorate=function(e,t){var n,r,i,s;t==null&&(t=this.constructor.__emitter_methods__),n=this.prototype;for(r=0,i=t.length;r<i;++r)s=t[r],e[s]=n[s];return e},n.EventEmitter=u},{"./emitter-helpers":3}],5:[function(e,t,n){function o(e,t){function n(){}return n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,typeof t.extended=="function"&&t.extended(e),e}var r,i,s=typeof n!="undefined"&&n||this;r=e("./emitter").EventEmitter,s.ReadyEmitter=i=function(e){function i(){}i.displayName="ReadyEmitter";var t=o(i,e).prototype,n=i;return i.__emitter_methods__=r.__emitter_methods__.concat(["ready"]),t._ready=!1,t.__ready_event__="ready",t.ready=function(e,t){var n;return t==null&&(t=!1),e==null?!!this._ready:typeof e=="function"?this.on(this.__ready_event__,e):(e=!!e,e===this._ready&&!t?this:(this._ready=e,n=this.__ready_event__,e||(n+="-reset"),this.emit(n,this),this))},t.on=function(t,n){var r=this;return e.prototype.on.apply(this,arguments),this.ready()&&t.split(/\s+/).indexOf(this.__ready_event__)>-1&&setTimeout(function(){return n.call(r,r)}),this},t.addListener=i.prototype.on,i}(r)},{"./emitter":4}],6:[function(e,t,n){function o(e,t){function n(){}return n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,typeof t.extended=="function"&&t.extended(e),e}var r,i,s=typeof n!="undefined"&&n||this;r=e("./emitter").EventEmitter,s.WaitingEmitter=i=function(e){function i(){}i.displayName="WaitingEmitter";var t=o(i,e).prototype,n=i;return i.__emitter_methods__=r.__emitter_methods__.concat(["wait","unwait","unwaitAnd"]),t._waitingOn=0,t.wait=function(){var e;return e=this._waitingOn||0,this._waitingOn+=1,e===0&&this._waitingOn>0&&this.trigger("start-waiting",this),this},t.unwait=function(){var e;return e=this._waitingOn||0,this._waitingOn-=1,this._waitingOn===0&&e>0&&this.trigger("stop-waiting",this),this},t.unwaitAnd=function(e){var t;return t=this,function(){return t.unwait(),e.apply(this,arguments)}},i}(r)},{"./emitter":4}]},{},[1])(1)})